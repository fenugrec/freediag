###################################################################
# Freediag Simulator Database File - Examples
#
# Here you hold the message bytes exchanged between the Tester and
# a simulated car ECU (Electronic Controller Unit).
# This file, together with the "CARSIM" type of interface, makes
# freediag independent of a car connection, allowing you to test
# "libdiag", "scantool", and any other client application offline.
# Customize this file at your will for your test needs.
#
# Mandatory Syntax:
# One Request line (starting with "RQ") can be followed by
# zero, one, or more Response lines (starting with "RP").
# All other lines must be commented out with "# ".
# Both Request and Response lines are composed of 4-character-long
# elements, separated by one space character ("R* **** **** ...").
# In the Requests, these elements can only be hexadecimal values
# from "0x00" to "0xFF"; in the Responses, they can be hex values
# or a function token. Available tokens are:
# "swt1" = replaced by a sawtooth(t) signal, period = 1 second;
# "sin1" = replaced by sin(t) signal, period = 1 second;
# "cks1" = replaced by the ISO9141 checksum of all previous bytes.
# For the RQ lines, it's not necessary to put the checksum byte at the end.
# Or, more generally, only the shortest of either the request or the RQ line
# must match. In other words, the line
# "RQ 02 01 00 03" would match all these requests :
#	"02 01 00"
#	"02 01 00 03"
#	"02 01 00 03 ff"
# but not "02 01 ff", and not "02 01 00 04 ff"

# Other examples may be found in the /tests directory.

# Lines beginning with the "CFG" token can configure some parameters:

# DATAONLY	Messages are sent/received without headers or checksum.
# NOL2CKSUM	Messages are sent/received without requiring a checksum byte
# FRAMED		Responses are treated as already framed; this is implied by DATAONLY and NOL2CKSUM
# FULLINIT	Simulate an interface that does full init; init communications not passed to L2
# If more than one option is set, the last one is used for the entire file.

# Optional : restrict to a particular L2 protocol
# P_9141	ISO-9141
# P_14230	ISO-14230
# P_J1850P	SAE J1850-PWM
# P_J1850V	SAE J1850-VPW
# P_CAN	CAN / ISO-15765
# P_RAW	raw
#
###################################################################

#### DATAONLY iso9141 example ####
CFG DATAONLY
CFG P_9141

# ISO-9141-2 slow init:
RQ 0x33
RP 0x55
RP 0x08
RP 0x08
RQ 0xF7
RP 0xCC

# What SID-1 PIDs are supported? (block 0) , support PID 1, 0x20 & others
RQ 0x01 0x00
RP 0x41 0x00 0x80 0xa0 0x00 0x01

# What SID-1 PIDs are supported (block 0x20)
RQ 0x01 0x20
RP 0x41 0x20 0x80 0x05 0x00 0x00

# SID 1 PID 1 ("Monitor status since DTCs cleared"): MIL on, no DTC
RQ 0x01 0x01
RP 0x41 0x01 0x80 0x00 0x00 0x00

#### NOL2CKSUM iso9141 example ####
CFG NOL2CKSUM

# ISO-9141-2 slow init:
RQ 0x33
RP 0x55
RP 0x08
RP 0x08
RQ 0xF7
RP 0xCC

# What SID-1 PIDs are supported? -> support PID 1 only
RQ 0x68 0x6a 0xf1 0x01 0x00
RP 0x48 0x6b 0x01 0x41 0x00 0x80 0x00 0x00 0x00

# SID 1 PID 1 ("Monitor status since DTCs cleared"): MIL on, no DTC
RQ 0x68 0x6a 0xf1 0x01 0x01
RP 0x48 0x6b 0x01 0x41 0x01 0x80 0x00 0x00 0x00


#### regular iso9141 example ####
# ISO-9141-2 slow init:
RQ 0x33
RP 0x55
RP 0x08
RP 0x08
RQ 0xF7
RP 0xCC

# What SID-1 PIDs are supported? support PID 1 & others (two ECUs); has manually-calculated checksum
RQ 0x68 0x6a 0xf1 0x01 0x00 0xc4
RP 0x48 0x6b 0x01 0x41 0x00 0x80 0x00 0x00 0x01 0x76
RP 0x48 0x6b 0x02 0x41 0x00 0x80 0x55 0x00 0x00 cks1

# What SID-1 PIDs are supported (block 0x20)
RQ 0x68 0x6a 0xf1 0x01 0x20
RP 0x48 0x6b 0x01 0x41 0x20 0x80 0x55 0x00 0x00 cks1

# SID 1 PID 1 ("Monitor status since DTCs cleared"): MIL on, no DTC
RQ 0x68 0x6a 0xf1 0x01 0x01
RP 0x48 0x6b 0x01 0x41 0x01 0x80 0x00 0x00 0x00 cks1

# What SID-2 PIDs are supported?
RQ 0x68 0x6a 0xf1 0x02 0x00 0x00 0xc5
RP 0x48 0x6b 0x01 0x42 0x00 0x00 0x00 0x00 0x00 0x00 cks1

# What SID-5 (O2 monitors) TestIDs are supported? a few
RQ 0x68 0x6a 0xf1 0x05 0x00 0x00 0xc8
RP 0x48 0x6b 0x01 0x45 0x00 0x00 0x0f 0xc0 0x00 0x00 cks1

# What SID-6 (other monitors) TestIDs are supported?
RQ 0x68 0x6a 0xf1 0x06 0x00 0xc9
RP 0x48 0x6b 0x01 0x46 0x00 0x00 0x00 0x00 0x00 0x00 cks1

# What SID-8 Controls/Tests are supported?
RQ 0x68 0x6a 0xf1 0x08 0x00 0x00 0x00 0x00 0x00 0x00 0xcb
RP 0x48 0x6b 0x01 0x48 0x00 0x00 0x00 0x00 0x00 0x00 cks1

# What SID-9 InfoTypes are supported?
RQ 0x68 0x6a 0xf1 0x09 0x00 0xcc
RP 0x48 0x6b 0x01 0x49 0x00 0x00 0x00 0x00 0x00 0x00 cks1

# What DTC caused Stored Freeze Frame 0?
RQ 0x68 0x6a 0xf1 0x02 0x02 0x00 0xc7

# What O2 sensors do you have?
RQ 0x68 0x6a 0xf1 0x01 0x13 0xd7

# What emission DTCs are stored?
RQ 0x68 0x6a 0xf1 0x07 0xca

#### J1850 tests ####
CFG P_J1850P

# SID 1 PID 0 with good response with crc
RQ 0x61 0x6A 0xF1 0x01 0x00
RP 0x41 0x6B 0x10 0x41 0x00 0x80 0x00 0x00 0x01 0xb4

# SID 1 PID 20 (block 0x20) with bogus padding byte after CRC (old L0_me code did this),
RQ 0x61 0x6A 0xF1 0x01 0x20
RP 0x41 0x6B 0x10 0x41 0x20 0x00 0x00 0x00 0x00 0x5D 00

# What SID-2 PIDs are supported? bad CRC
RQ 0x02 0x00 0x00
RP 0x42 0x00 0x00 0x00 0x00 0x00 0x00 0xaa

#### Other samples ####
CFG P_14230
# ISO-14230 fast init (functional addressing):
RQ 0x00
RQ 0xC1 0x33 0xF1 0x81 0x66
RP 0xC0 0xF1 0x01 0x03 0xC1 0xEA 0x8F cks1

# What SID-1 PIDs are supported? (this is also used as a "resynch" msg by freediag)
RQ 0x01 0x00
# none :) (5 null bytes)
RP 0x41 0x00 0x00 0x00 0x00 0x00 0x00

# What SID-2 PIDs are supported?
RQ 0x02 0x00 0x00
# none :) (5 null bytes)
RP 0x42 0x00 0x00 0x00 0x00 0x00 0x00

# What SID-5 (O2 monitors) TestIDs are supported?
RQ 0x05 0x00
# none :) (5 null bytes)
RP 0x45 0x00 0x00 0x00 0x00 0x00 0x00

# What SID-6 (other monitors) TestIDs are supported?
RQ 0x06 0x00
# none :) (5 null bytes)
RP 0x46 0x00 0x00 0x00 0x00 0x00 0x00

# What SID-8 Controls/Tests are supported?
RQ 0x08 0x00
# none :) (5 null bytes)
RP 0x48 0x00 0x00 0x00 0x00 0x00 0x00

# What SID-9 InfoTypes are supported?
RQ 0x09 0x00
# none :) (5 null bytes)
RP 0x49 0x00 0x00 0x00 0x00 0x00 0x00

# What DTC caused Stored Freeze Frame 0?
RQ 0x02 0x02 0x00

# What O2 sensors do you have?
RQ 0x01 0x13

# What emission DTCs are stored? Negative Response !
RQ 0x07
RP 0x7F 0x07 0x11
